{{ template "base" . }}

{{define "head"}}
{{end}}

{{define "content"}}
<div class="container">
  <!--<div class="row">
    <div class="col-md-12">
    </div>
  </div>-->
  <div class="row">
    <div class="col-md-8">
      <h2>🎶 Tracks by {{.Profile.User.DisplayName}}</h2>
      {{ if .Profile.LastTracks | empty }}
      <p>No track found.</p>
      <p><small class="text-muted">This musician is just getting started.</small></p>
      {{end}}
      {{ range .Profile.LastTracks }}
      <div class="card my-2">
        <div class="media">
          <a href="{{.CanonicalURL}}"><img src="{{ .ArtworkURL }}" class="p-1 mr-3" width="100" alt="Artwork" /></a>
          <div class="media-body">
            <a href="{{.CanonicalURL}}"><h5 class="mt-0 d-inline-block">{{.Title}}</h5></a>
            <a href="{{.CanonicalURL}}"><small class="text-muted">{{.SortDate | fromUnixNano | prettyAgo}}</small></a>
            <div>
              {{with .Body}}<p>{{.}}</p>{{end}}
              {{with .Genre}}<div>📁 Genre: <span class="badge badge-secondary">{{.}}</span></div>{{end}}
              {{if .Duration}}<div>⏱ Duration: <span data-toggle="tooltip" data-placement="right" title="{{.GoDuration}}">{{.GoDuration | prettyDuration}}</span></div>{{end}}
              <!--{{with .DownloadURL}}<div><a href="{{.}}" class="btn">⬇️ Download</a></div>{{end}}-->
            </div>
          </div>
        </div>
      </div>
      {{ end }}
    </div>
    <div class="col-md-4">
      <div class="mb-3">
        <div><img src="{{.Profile.User.Avatar}}" width="128" class="mb-3" /></div>
        <div>{{.Profile.User.DisplayName}}</div>
        <div>📆 Joined <span data-toggle="tooltip" data-placement="top" title="{{.Profile.User.CreatedAt | fromUnixNano | prettyDate}}">{{.Profile.User.CreatedAt | fromUnixNano | prettyAgo}}</span></div>
        <div>🎶 {{.Profile.Stats.Tracks}} tracks</div>
      </div>

      {{if eq .Profile.User.ID .UserID}}
      <div class="mb-3">
        <a href="/settings" class="btn btn-secondary"><span class="fa fa-edit"></span> Edit</a>
      </div>
      {{end}}
      <!--
      {{if .IsAdmin}}
      <div class="card mb-3 bg-danger text-white">
        <div class="card-header"><span class="fa fa-user-lock"></span> Admin</div>
        <div class="p-2">
          <div><a href="{{.Profile.User.CanonicalURL}}/" class="text-white"><span class="fa fa-sync"></span> </span></a></div>
        </div>
      </div>
      {{end}}
      -->

    </div>
  </div>
</div>
{{end}}
